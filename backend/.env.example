# ============================================================
# Xamle Civic — Production Environment Variables (VPS)
# Copier ce fichier vers .env.production et remplir les valeurs
# ============================================================

# ─── Application ────────────────────────────────────────────
NODE_ENV=production
DOMAIN=api.xamle.sn
APP_URL=https://xamle.sn
API_PORT=4000

# ─── Database (PostgreSQL) ──────────────────────────────────
POSTGRES_USER=xamle_prod
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=xamle_civic_prod
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=public

# ─── Redis (Cache & Sessions) ───────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# ─── JWT Authentication ─────────────────────────────────────
JWT_SECRET=CHANGE_ME_JWT_SECRET_MIN_32_CHARS
JWT_EXPIRES_IN=3600
REFRESH_TOKEN_SECRET=CHANGE_ME_REFRESH_SECRET_MIN_32_CHARS
REFRESH_TOKEN_EXPIRES_IN=604800

# ─── CORS (Frontend URLs) ───────────────────────────────────
CORS_ORIGINS=https://xamle.sn,https://www.xamle.sn

# ─── Meilisearch (Full-text Search) ─────────────────────────
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_MASTER_KEY=CHANGE_ME_MEILISEARCH_KEY_MIN_16_CHARS

# ─── MinIO (S3-compatible Storage) ──────────────────────────
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=CHANGE_ME_MINIO_ACCESS_KEY
MINIO_SECRET_KEY=CHANGE_ME_MINIO_SECRET_KEY_MIN_32_CHARS
MINIO_BUCKET_DOCUMENTS=xamle-documents
MINIO_BUCKET_MEDIA=xamle-media

# ─── Email (SMTP) ───────────────────────────────────────────
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@xamle.sn
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
SMTP_FROM="Xamle Civic <noreply@xamle.sn>"

# ─── SSL (Let's Encrypt) ────────────────────────────────────
SSL_EMAIL=admin@xamle.sn

# ─── OAuth (Google) ─────────────────────────────────────────
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=CHANGE_ME_GOOGLE_SECRET
GOOGLE_CALLBACK_URL=https://api.xamle.sn/api/v1/auth/google/callback

# ─── SMS (Twilio - optionnel) ───────────────────────────────
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=CHANGE_ME_TWILIO_TOKEN
TWILIO_PHONE_NUMBER=+221XXXXXXXXX

# ─── Monitoring ─────────────────────────────────────────────
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
LOG_LEVEL=info

# ─── Rate Limiting ──────────────────────────────────────────
THROTTLE_TTL=60
THROTTLE_LIMIT=100
